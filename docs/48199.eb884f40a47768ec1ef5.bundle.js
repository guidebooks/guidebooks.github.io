"use strict";(self.webpackChunk_guidebooks_playground=self.webpackChunk_guidebooks_playground||[]).push([[48199],{48199:(e,n,o)=>{o.r(n),o.d(n,{default:()=>r});var i=o(21030),t=function(e,n,o,i){return new(o||(o=Promise))((function(t,a){function c(e){try{s(i.next(e))}catch(e){a(e)}}function r(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(c,r)}s((i=i.apply(e,n||[])).next())}))};const a=(0,i.i18n)("plugin-core-support"),c={command:"confirm",strict:"confirm",example:"confirm [--asking <confirmation message>] <your-command-to-execute>",docs:"Confirmation Modal",optional:[{name:"--asking",docs:a("confirmationMessage")}],required:[{name:"command",docs:a("commandToBeExecuted")}]},r=e=>t(void 0,void 0,void 0,(function*(){e.listen("/confirm",(({tab:e,argvNoOptions:n,parsedOptions:o,execOptions:t,REPL:c})=>new Promise(((r,s)=>{const u=o.asking||a("areYouSure"),d=n[n.indexOf("confirm")+1],{execUUID:m}=t,f=`/kui-shell/Confirm/v1/tab/${(0,i.getPrimaryTabId)(e)}`,p=`${f}/execUUID/${m}/confirmed`;i.Events.eventChannelUnsafe.once(p,(({confirmed:n})=>{n?t.type===i.ExecType.Nested?(0,i.pexecInCurrentTab)(d).then(r,s):c.qexec(d,void 0,void 0,{tab:e}).then(r,s):s(a("operationCancelled"))})),i.Events.eventChannelUnsafe.emit(f,{command:d,asking:u,execUUID:m})}))),{usage:c,incognito:["popup"]})}))}}]);