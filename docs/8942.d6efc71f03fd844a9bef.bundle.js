(self.webpackChunk_guidebooks_playground=self.webpackChunk_guidebooks_playground||[]).push([[8942],{18551:(n,t,e)=>{"use strict";e.d(t,{gA:()=>v,or:()=>m,ZP:()=>g});var o=e(91119),i=e(53450),r=function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function c(n){try{a(o.next(n))}catch(n){r(n)}}function s(n){try{a(o.throw(n))}catch(n){r(n)}}function a(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,s)}a((o=o.apply(n,t||[])).next())}))};const c=(0,o.i18n)("plugin-kubectl","logs");function s(n){return t=>r(this,void 0,void 0,(function*(){const e=(0,i.fY)(t);if((0,i.lN)(t))return(0,i.t$)("k"===e?"kubectl":e,t);if(t.execOptions.raw)return(0,i.d1)(t,void 0,e);const r=(0,i.Z7)(t),c=t.argvNoOptions.indexOf(n),s=t.argvNoOptions[c+1];if(t.execOptions.type===o.ExecType.Nested||/\|>/.test(t.command)||!r&&/\//.test(s))return(0,i.fF)(t);if("exec"===n){const n=t.argvNoOptions.indexOf("exec"),o=t.argvNoOptions[n+2];if("cat"===o||"ls"===o||"pwd"===o||"mv"===o||"cp"===o||"ln"===o)return(0,i.d1)(t,void 0,e)}if(r){const n=(0,i.QG)(t,`${e} get pod -l ${r} -o json`);return t.REPL.qexec(n,void 0,void 0,{tab:t.tab})}if(s){const n=(0,i.QG)(t,`${e} get pod ${s} -o yaml`);return t.REPL.qexec(n,void 0,void 0,{tab:t.tab})}return(0,i.d1)(t,void 0,e)}))}function a(n,t,e){return r(this,void 0,void 0,(function*(){return Object.assign({},yield(0,i.Kz)(t,Object.assign({apiVersion:"v1",kind:"Pod"},e)),{defaultMode:n,argsForMode:t})}))}function d(n){return(t,e)=>r(this,void 0,void 0,(function*(){if((0,i.Bv)(e,i.k1)||(0,i.Xk)(e))return function(n,t,e){return r(this,void 0,void 0,(function*(){const r=o.Util.flatten(e.map((n=>n.spec.containers.map((t=>Object.assign({},t,{name:`${n.metadata.name}:${t.name}`})))))),c=(0,i.ZO)(t,"logs"),s=c&&e.find((n=>n.spec.containers.find((n=>n.name===c)))),d=s?s.metadata.name:void 0;e[0].isSimulacrum=!0,e[0].spec.containers=r;const u=e.map((n=>n.metadata.name)).join(", ");e[0].metadata.name=u;const f=yield a(n,t,e[0]);if(d){const n=`${d}:${c}`;f.argsForMode.parsedOptions.c=f.argsForMode.parsedOptions.container=n}else if(c){const n=new Error("Specified container not found");throw n.code=404,n}return f}))}(n,t,e.items);if((0,i.oe)(e)){const n=new Error(c("No matching pods"));throw n.code=404,n}return(0,i.k1)(e)?a(n,t,e):void 0}))}const u=s("logs"),f=Object.assign({},(0,i.id)(["p","previous","f","follow"]),{viewTransformer:d("logs")}),l=s("exec"),p=Object.assign({},i.pb,{viewTransformer:d("terminal")});function v(n,t){n.listen(`/${t}/logs`,u,f)}function m(n,t){n.listen(`/${t}/exec`,l,p)}const g=n=>{["kubectl","k"].forEach((t=>{v(n,t),m(n,t)}))}},94640:(n,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>r});var o=e(18551),i=function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function c(n){try{a(o.next(n))}catch(n){r(n)}}function s(n){try{a(o.throw(n))}catch(n){r(n)}}function a(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,s)}a((o=o.apply(n,t||[])).next())}))};const r=n=>i(void 0,void 0,void 0,(function*(){yield(0,o.ZP)(n)}))},47689:()=>{}}]);