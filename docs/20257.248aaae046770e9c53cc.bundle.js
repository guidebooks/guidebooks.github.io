"use strict";(self.webpackChunk_guidebooks_playground=self.webpackChunk_guidebooks_playground||[]).push([[20257],{20257:(e,t,s)=>{s.r(t),s.d(t,{plugin:()=>u});var i=s(11227),n=s.n(i),o=s(91119),h=function(e,t,s,i){return new(s||(s=Promise))((function(n,o){function h(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(h,c)}l((i=i.apply(e,t||[])).next())}))};const c=(0,o.i18n)("plugin-core-support"),l=n()("plugins/core-support/theme"),d={theme:{command:"theme",strict:"theme",docs:c("theme.usageDocs")},themes:{command:"themes",strict:"themes",docs:c("theme.usageDocs")},list:{command:"list",strict:"list",docs:c("theme.usageDocs")},reset:{command:"reset",strict:"reset",docs:c("theme.resetUsageDocs")},set:{command:"set",strict:"set",docs:"Set the current theme",required:[{name:"string",docs:c("theme.setUsageRequiredDocs")}]}},m=({REPL:e})=>h(void 0,void 0,void 0,(function*(){const t={cells:[c("Theme"),{value:c("Style"),hints:"hide-with-narrow-window"},{value:c("Provider"),hints:"hide"}]},s=()=>h(void 0,void 0,void 0,(function*(){const e=(yield o.Themes.getPersistedThemeChoice())||(yield o.Themes.getDefaultTheme());return o.Themes.findThemeByName(e)?e:o.Themes.getDefaultTheme()}));l("currentTheme",yield s());const i=o.Util.flatten((yield o.Settings.uiThemes()).map((({plugin:t,themes:s})=>s.map((s=>({nameIdx:0,cells:[{value:s.name},{value:c(s.style),hints:"hide-with-narrow-window"},{value:t,hints:["hide"]}],onSelectExec:"qexec",onSelect:`theme set ${e.encodeComponent(s.name)}`})))))).sort(((e,t)=>"plugin-core-themes"===e.cells[2].value?1:"plugin-core-themes"===t.cells[2].value?-1:0)),n=yield h(void 0,void 0,void 0,(function*(){const e=yield s();return i.findIndex((t=>t.cells[0].value===e))}));return{apiVersion:"kui-shell/v1",kind:"RadioTable",title:c("theme.Available Themes"),header:t,body:i,defaultSelectedIdx:n}})),r=({argvNoOptions:e})=>h(void 0,void 0,void 0,(function*(){const t=e[e.indexOf("set")+1];return l("set",t),yield o.Themes.switchToTheme(t),!0})),u=e=>{l("plugin"),e.listen("/theme/list",m,{usage:d.list}),e.listen("/themes",m,{usage:d.themes}),e.listen("/theme",m,{usage:d.theme}),e.listen("/theme/set",r,{usage:d.set}),e.listen("/theme/current",(()=>h(void 0,void 0,void 0,(function*(){return(yield o.Themes.getPersistedThemeChoice())||c("theme.currentTheme")}))),{hidden:!0}),e.listen("/theme/reset",o.Themes.resetToDefaultTheme,{usage:d.reset})}}}]);