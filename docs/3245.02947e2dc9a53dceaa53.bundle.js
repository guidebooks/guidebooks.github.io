(self.webpackChunk_guidebooks_playground=self.webpackChunk_guidebooks_playground||[]).push([[3245],{18551:(n,t,o)=>{"use strict";o.d(t,{gA:()=>v,or:()=>g,ZP:()=>m});var e=o(18495),i=o(53450),c=function(n,t,o,e){return new(o||(o=Promise))((function(i,c){function r(n){try{s(e.next(n))}catch(n){c(n)}}function a(n){try{s(e.throw(n))}catch(n){c(n)}}function s(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(r,a)}s((e=e.apply(n,t||[])).next())}))};const r=(0,e.i18n)("plugin-kubectl","logs");function a(n){return t=>c(this,void 0,void 0,(function*(){const o=(0,i.fY)(t);if((0,i.lN)(t))return(0,i.t$)("k"===o?"kubectl":o,t);if(t.execOptions.raw)return(0,i.d1)(t,void 0,o);const c=(0,i.Z7)(t),r=t.argvNoOptions.indexOf(n),a=t.argvNoOptions[r+1];if(t.execOptions.type===e.ExecType.Nested||/\|>/.test(t.command)||!c&&/\//.test(a))return(0,i.fF)(t);if("exec"===n){const n=t.argvNoOptions.indexOf("exec"),e=t.argvNoOptions[n+2];if("cat"===e||"ls"===e||"pwd"===e||"mv"===e||"cp"===e||"ln"===e)return(0,i.d1)(t,void 0,o)}if(c){const n=(0,i.QG)(t,`${o} get pod -l ${c} -o json`);return t.REPL.qexec(n,void 0,void 0,{tab:t.tab})}if(a){const n=(0,i.QG)(t,`${o} get pod ${a} -o yaml`);return t.REPL.qexec(n,void 0,void 0,{tab:t.tab})}return(0,i.d1)(t,void 0,o)}))}function s(n,t,o){return c(this,void 0,void 0,(function*(){return Object.assign({},yield(0,i.Kz)(t,Object.assign({apiVersion:"v1",kind:"Pod"},o)),{defaultMode:n,argsForMode:t})}))}function u(n){return(t,o)=>c(this,void 0,void 0,(function*(){if((0,i.Bv)(o,i.k1)||(0,i.Xk)(o))return function(n,t,o){return c(this,void 0,void 0,(function*(){const c=e.Util.flatten(o.map((n=>n.spec.containers.map((t=>Object.assign({},t,{name:`${n.metadata.name}:${t.name}`})))))),r=(0,i.ZO)(t,"logs"),a=r&&o.find((n=>n.spec.containers.find((n=>n.name===r)))),u=a?a.metadata.name:void 0;o[0].isSimulacrum=!0,o[0].spec.containers=c;const d=o.map((n=>n.metadata.name)).join(", ");o[0].metadata.name=d;const f=yield s(n,t,o[0]);if(u){const n=`${u}:${r}`;f.argsForMode.parsedOptions.c=f.argsForMode.parsedOptions.container=n}else if(r){const n=new Error("Specified container not found");throw n.code=404,n}return f}))}(n,t,o.items);if((0,i.oe)(o)){const n=new Error(r("No matching pods"));throw n.code=404,n}return(0,i.k1)(o)?s(n,t,o):void 0}))}const d=a("logs"),f=Object.assign({},(0,i.id)(["p","previous","f","follow"]),{viewTransformer:u("logs")}),l=a("exec"),p=Object.assign({},i.pb,{viewTransformer:u("terminal")});function v(n,t){n.listen(`/${t}/logs`,d,f)}function g(n,t){n.listen(`/${t}/exec`,l,p)}const m=n=>{["kubectl","k"].forEach((t=>{v(n,t),g(n,t)}))}},58719:(n,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>l});var e=o(53450),i=function(n,t,o,e){return new(o||(o=Promise))((function(i,c){function r(n){try{s(e.next(n))}catch(n){c(n)}}function a(n){try{s(e.throw(n))}catch(n){c(n)}}function s(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(r,a)}s((e=e.apply(n,t||[])).next())}))};var c=function(n,t,o,e){return new(o||(o=Promise))((function(i,c){function r(n){try{s(e.next(n))}catch(n){c(n)}}function a(n){try{s(e.throw(n))}catch(n){c(n)}}function s(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(r,a)}s((e=e.apply(n,t||[])).next())}))};var r=function(n,t,o,e){return new(o||(o=Promise))((function(i,c){function r(n){try{s(e.next(n))}catch(n){c(n)}}function a(n){try{s(e.throw(n))}catch(n){c(n)}}function s(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(r,a)}s((e=e.apply(n,t||[])).next())}))};var a=o(18551);const s="oc";var u=o(18495),d=function(n,t,o,e){return new(o||(o=Promise))((function(i,c){function r(n){try{s(e.next(n))}catch(n){c(n)}}function a(n){try{s(e.throw(n))}catch(n){c(n)}}function s(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(r,a)}s((e=e.apply(n,t||[])).next())}))};const f=(0,u.i18n)("plugin-kubectl"),l=n=>{(n=>{n.listen("/oc/apply",(0,e.Dq)("apply",s),e.pb),n.listen("/oc/create",(0,e.Dq)("create",s),e.pb),n.listen("/oc/delete",(0,e.q1)(s),e.pb),n.listen("/oc/run",(0,e.dP)(s),e.pb),(0,e.Yn)(n,s),(0,e.Lr)(n,s),(0,e.Tn)(n,s),(0,e.hM)(n,s),(0,e.VP)(n,s),(0,a.or)(n,s),(0,a.gA)(n,s)})(n),function(n){n.listen("/oc/project",(n=>r(this,void 0,void 0,(function*(){const t=yield(0,e.d1)(n,void 0,"oc"),o=n.argvNoOptions[n.argvNoOptions.indexOf("project")+1];return o&&(0,e.xf)("SetNamespaceOrContext",o),t})))),n.listen("/oc/projects",(n=>n.REPL.qexec("oc get projects",void 0,void 0,n.execOptions)),e.pb),["project","projects","ns","namespace","namespaces"].forEach((t=>{n.listen(`/oc/get/${t}`,(0,e.gc)("oc"),e.pb)}))}(n),(n=>{i(void 0,void 0,void 0,(function*(){n.listen("/_oc",e.g8,Object.assign({},e.pb,{requiresLocal:!0}))}))})(n),function(n){n.listen("/oc/login",(n=>c(this,void 0,void 0,(function*(){const t=n.command.replace(/login/,"_login"),o=yield n.REPL.qexec(t);return(0,e.xf)("SetNamespaceOrContext"),o})))),n.listen("/oc/_login",(n=>c(this,void 0,void 0,(function*(){n.command=n.command.replace(/_login/,"login"),n.argvNoOptions[1]="login",n.argv[1]="login";const t=yield(0,e.fF)(n,void 0,"oc");return(0,e.xf)("SetNamespaceOrContext"),t}))),{requiresLocal:!0})}(n),(n=>{u.Capabilities.inBrowser()&&!u.Capabilities.hasProxy()||n.catchall((n=>{return t=n[0],/^(oc|odo)$/.test(t);var t}),(n=>d(void 0,void 0,void 0,(function*(){const t=n.argv[0];if(1===n.argv.length||2===n.argv.length&&n.argv[1]===t){const o=yield(0,e.uV)(n,t);return o.links.push({label:f("More Information"),command:`${t} -h`}),o}return(0,e.lN)(n)?(0,e.t$)(t,n).catch((t=>(console.error(t),(0,e.fF)(n)))):(0,e.fF)(n)}))),1)})(n)}},47689:()=>{}}]);